{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["hslToRgb","h","s","l","r_","g_","b_","H","S","L","C","Math","abs","X","m","R","floor","G","B","randomConfig","configs","config","default","gentle","molasses","slow","stiff","wobbly","random","length","handleFiles","files","images","i","file","type","startsWith","push","doFisherYatesShuffle","a","Array","isArray","min","max","j","ceil","BackgroundImage","props","Img","imageSrc","id","style","opacity","className","alt","useEffect","img","document","getElementById","container","parentElement","justifyImg","e","undefined","width","height","widthRatio","clientWidth","heightRatio","clientHeight","removeEventListener","addEventListener","src","Second","hslSpring","rgbSpring","colorElmList","colorHistory","rgb","backgroundColor","color","onClick","changeBackground","p","hsl","to","toFixed","r","g","b","htmlFor","checked","enableAutoScroll","onChange","setAutoScroll","data-tooltip","opcty","target","value","setImgOpacity","step","imgOpacity","multiple","accept","handleAddImages","handleResetImages","switchTime","handleSwitchTime","App","appRef","useRef","useState","full","setIsFull","setImages","setImageSrc","setSwitchTime","_switchTimeRef","currentImageIdxRef","setColorHistory","timeoutIdRef","hue","sat","lig","hslStr","useSpring","background","api","fadeInOutProps","useMemo","from","next","cancel","delay","reset","infoProps","infoApi","hslProps","rgbProps","hslApi","rgbApi","useCallback","current","springs","animation","ph","ps","pl","prev","newHistory","concat","map","v","shift","newHue","newSat","newLig","newrgb","start","onFullscreenError","alert","onFullscreenChange","fullscreenElement","updateImage","delta","setT","setTimeout","newIdx","reader","FileReader","onload","result","onerror","onabort","readAsDataURL","clearTimeout","app_elm","querySelector","preventDefaultAction","stopPropagation","preventDefault","onDrop","newImages","dataTransfer","newImagesArray","tid","handleScroll","secondRatio","window","scrollY","offsetHeight","scrollTo","top","left","behavior","div","ref","span","button","border","exitFullscreen","requestFullscreen","newSwitchTime","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","title","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2c7889ec.chunk.js","sourcesContent":["import { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport { useSpring, animated, config } from 'react-spring';\nimport delay from \"delay\";\nimport './App.scss';\n\n\nfunction hslToRgb(h, s, l) {\n  const H = h % 360;\n  const S = s / 100;\n  const L = l / 100;\n\n  const C = (1 - Math.abs(2 * L - 1)) * S;\n  const X = C * (1 - Math.abs((H / 60) % 2 - 1));\n  const m = L - C / 2;\n  let r_, g_, b_;\n  if (0 <= H && H < 60) [r_, g_, b_] = [C, X, 0];\n  if (60 <= H && H < 120) [r_, g_, b_] = [X, C, 0];\n  if (120 <= H && H < 180) [r_, g_, b_] = [0, C, X];\n  if (180 <= H && H < 240) [r_, g_, b_] = [0, X, C];\n  if (240 <= H && H < 300) [r_, g_, b_] = [X, 0, C];\n  if (300 <= H && H < 360) [r_, g_, b_] = [C, 0, X];\n\n  return {\n    R: Math.floor((r_ + m) * 255 + 0.5),\n    G: Math.floor((g_ + m) * 255 + 0.5),\n    B: Math.floor((b_ + m) * 255 + 0.5)\n  };\n}\n\nfunction randomConfig() {\n  const configs = [config.default, config.gentle, config.molasses, config.slow, config.stiff, config.wobbly];\n  const idx = Math.floor(Math.random() * configs.length);\n  return configs[idx];\n}\n\nfunction handleFiles(files) {\n  const images = [];\n  for (let i = 0; i < files.length; i++) {\n    const file = files[i];\n    if (file.type.startsWith('image/')) {\n      images.push(file);\n    }\n  }\n  return images;\n}\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\n\n/** aを内部でシャッフルする */\nfunction doFisherYatesShuffle(a) {\n  if (a == null || !Array.isArray(a) || a.length < 2) {\n    return;\n  }\n  const n = a.length;\n  for (let i = n - 1; i > 0; i--) {\n    let j = getRandomInt(0, i + 1);\n    [a[j], a[i]] = [a[i], a[j]];\n  }\n}\n\n\nfunction App() {\n  const appRef = useRef(null);\n  const [full, setIsFull] = useState(false);\n  const [images, setImages] = useState([]);\n  const [imageSrc, setImageSrc] = useState(null);\n  const [enableAutoScroll, setAutoScroll] = useState(true);\n  const [imgOpacity, setImgOpacity] = useState(0.6);\n  const [switchTime, setSwitchTime] = useState(5);\n  const _switchTimeRef = useRef(5);\n  const currentImageIdxRef = useRef(-1);\n  const [colorHistory, setColorHistory] = useState([]);\n  const timeoutIdRef = useRef(null);\n  const hue = Math.floor(Math.random() * 360);\n  const sat = Math.floor(Math.random() * 100);\n  const lig = Math.floor(Math.random() * 100);\n  const hslStr = `hsl(${hue}, ${sat}%, ${lig}%)`;\n  const [props, api] = useSpring(() => {\n    return {\n      to: { background: hslStr },\n      config: randomConfig(),\n    };\n  });\n\n  const rgb = hslToRgb(hue, sat, lig);\n  const fadeInOutProps = useMemo(() => {\n    return {\n      from: { opacity: 0 },\n      to: async (next, cancel) => {\n        await delay(300);\n        await next({ opacity: 1 });\n        await delay(5000);\n        await next({ opacity: 0 });\n      },\n      config: config.gentle,\n      reset: true\n    };\n  }, []);\n  const [infoProps, infoApi] = useSpring(() => fadeInOutProps);\n\n  const hslProps = { hsl: [hue, sat, lig] };\n  const rgbProps = { rgb: [rgb.R, rgb.G, rgb.B] };\n  const [hslSpring, hslApi] = useSpring(() => hslProps);\n  const [rgbSpring, rgbApi] = useSpring(() => rgbProps);\n\n  const changeBackground = useCallback((e, h = -1, s = -1, l = -1) => {\n    const [ph, ps, pl] = hslApi.current[0].springs.hsl.animation.to;\n    if (ph === h && ps === s && pl === l) {\n      return;\n    }\n    setColorHistory(prev => {\n      const newHistory = prev.concat([hslApi.current[0].springs.hsl.animation.to.map(v => Math.floor(v))]);\n      if (newHistory.length > 100) {\n        newHistory.shift();\n      }\n      return newHistory;\n    });\n    const newHue = h !== -1 ? h : Math.floor(Math.random() * 360);\n    const newSat = s !== -1 ? s : Math.floor(Math.random() * 100);\n    const newLig = l !== -1 ? l : Math.floor(Math.random() * 100);\n    const newrgb = hslToRgb(newHue, newSat, newLig);\n\n    api.start({\n      to: { background: `hsl(${newHue}, ${newSat}%, ${newLig}%)` },\n      delay: 100\n    });\n    infoApi.start(fadeInOutProps);\n    hslApi.start({ hsl: [newHue, newSat, newLig], delay: 350 });\n    rgbApi.start({ rgb: [newrgb.R, newrgb.G, newrgb.B], delay: 350 });\n  }, [api, infoApi, hslApi, rgbApi, fadeInOutProps]);\n\n  useEffect(() => {\n    changeBackground(null);\n  }, [changeBackground]);\n\n  const onFullClicked = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (full) {\n      document.exitFullscreen();\n    } else {\n      appRef.current.requestFullscreen();\n    }\n  };\n  useEffect(() => {\n    const onFullscreenError = () => {\n      alert('お使いのブラウザは全画面表示に対応していないようです。');\n    };\n    document.addEventListener('fullscreenerror', onFullscreenError);\n    const onFullscreenChange = () => {\n      if (document.fullscreenElement) {\n        setIsFull(true);\n      } else {\n        setIsFull(false);\n      }\n    };\n    document.addEventListener('fullscreenchange', onFullscreenChange);\n    return () => {\n      document.removeEventListener('fullscreenerror', onFullscreenError);\n      document.removeEventListener('fullscreenchange', onFullscreenChange);\n    };\n  }, []);\n\n  // 背景関連\n  const updateImage = useCallback((delta = 1) => {\n    const setT = () => {\n      timeoutIdRef.current = setTimeout(() => {\n        updateImage();\n      }, _switchTimeRef.current * 1000);\n    };\n    if (images.length > 0) {\n      let newIdx = (currentImageIdxRef.current + delta) % images.length;\n      if (newIdx < 0) {\n        newIdx += images.length;\n      }\n      if (currentImageIdxRef.current !== newIdx) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          setImageSrc(e.target.result);\n          currentImageIdxRef.current = newIdx;\n          setT();\n        };\n        reader.onerror = (e) => {\n          // 失敗しても進めないとずっと失敗する\n          currentImageIdxRef.current = newIdx;\n          setT();\n        };\n        reader.onabort = reader.onerror;\n        reader.readAsDataURL(images[newIdx]);\n        return;\n      }\n    }\n  }, [images, setImageSrc]);\n  useEffect(() => {\n    updateImage();\n    return () => {\n      clearTimeout(timeoutIdRef.current);\n    };\n  }, [updateImage]);\n  const handlePrevClick = (e) => {\n    if (images.length > 1) {\n      e.preventDefault();\n      e.stopPropagation();\n      clearTimeout(timeoutIdRef.current);\n      updateImage(-1);\n    }\n  };\n  const handleNextClick = (e) => {\n    if (images.length > 1) {\n      e.preventDefault();\n      e.stopPropagation();\n      clearTimeout(timeoutIdRef.current);\n      updateImage(1);\n    }\n  };\n\n  // D&Dのイベントリスナ\n  useEffect(() => {\n    const app_elm = document.querySelector('.App');\n    const preventDefaultAction = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    };\n    app_elm.addEventListener('dragenter', preventDefaultAction);\n    app_elm.addEventListener('dragover', preventDefaultAction);\n    const onDrop = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      const dt = e.dataTransfer;\n      const files = dt.files;\n      const newImages = handleFiles(files);\n      clearTimeout(timeoutIdRef.current);\n      setImages(images => {\n        const newImagesArray = images.concat(newImages);\n        doFisherYatesShuffle(newImagesArray);\n        return newImagesArray;\n      });\n    };\n    app_elm.addEventListener('drop', onDrop);\n    return () => {\n      app_elm.removeEventListener('dragenter', preventDefaultAction);\n      app_elm.removeEventListener('dragover', preventDefaultAction);\n      app_elm.removeEventListener('drop', onDrop);\n    };\n  }, []);\n  // ボタンクリックによる背景の追加\n  const handleAddImages = (e) => {\n    const files = e.target.files;\n    const newImages = handleFiles(files);\n    clearTimeout(timeoutIdRef.current);\n    setImages(images => {\n      const newImagesArray = images.concat(newImages);\n      doFisherYatesShuffle(newImagesArray);\n      return newImagesArray;\n    });\n  };\n  const handleResetImages = (e) => {\n    setImages([]);\n    setImageSrc(null);\n    currentImageIdxRef.current = -1;\n    clearTimeout(timeoutIdRef.current);\n  };\n  const handleSwitchTime = (e) => {\n    let newSwitchTime = e.target.value;\n    if (newSwitchTime < 1) newSwitchTime = 1;\n    if (newSwitchTime > 3600) newSwitchTime = 3600;\n    _switchTimeRef.current = newSwitchTime;\n    setSwitchTime(newSwitchTime);\n  };\n\n  // スクロールを調整。appとセカンド画面と跨がないように修正する\n  useEffect(() => {\n    let tid = -1;\n    const handleScroll = (e) => {\n      if (tid > 0) {\n        clearTimeout(tid);\n      }\n      if (enableAutoScroll === false) {\n        return;\n      }\n      tid = setTimeout(() => {\n        if (appRef.current == null) {\n          tid = -1;\n          return;\n        }\n        const secondRatio = window.scrollY / appRef.current.offsetHeight;\n        if (secondRatio < 0.7) {\n          window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n        } else if (secondRatio > 0.75 && secondRatio < 1) {\n          window.scrollTo({ top: appRef.current.offsetHeight, left: 0, behavior: 'smooth' });\n        } else {\n          // do nothing\n        }\n        tid = -1;\n      }, 250);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      clearTimeout(tid);\n    };\n  }, [enableAutoScroll]);\n\n\n  return (\n    <>\n      <animated.div ref={appRef} className=\"App\" style={props} onClick={e => changeBackground(e)}>\n        <BackgroundImage opacity={imgOpacity} imageSrc={imageSrc} />\n        <animated.div className=\"Info\" style={infoProps}>\n          <animated.span style={{\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black')\n          }}>\n            {hslSpring.hsl.to((h, s, l) => `hsl (${h.toFixed(0)}, ${s.toFixed(0)}%, ${l.toFixed(0)}%)`)}\n          </animated.span>\n          <animated.span style={{\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black')\n          }}>\n            {rgbSpring.rgb.to((r, g, b) => `rgb (${r.toFixed(0)}, ${g.toFixed(0)}, ${b.toFixed(0)})`)}\n          </animated.span>\n          <animated.button style={{\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black'),\n            border: hslSpring.hsl.to((h, s, l) => `solid 5px ${l < 60 ? 'white' : 'black'}`)\n          }} className=\"Info-btn\" onClick={onFullClicked}>\n            {full ? 'Exit' : 'Full'}\n          </animated.button>\n          <animated.button style={{\n            opacity: images.length > 1 ? 1 : 0,\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black'),\n            border: hslSpring.hsl.to((h, s, l) => `solid 5px ${l < 60 ? 'white' : 'black'}`)\n          }} className=\"Info-btn prev-btn\" onClick={handlePrevClick}>\n            &lt;&lt;\n          </animated.button>\n          <animated.button style={{\n            opacity: images.length > 1 ? 1 : 0,\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black'),\n            border: hslSpring.hsl.to((h, s, l) => `solid 5px ${l < 60 ? 'white' : 'black'}`)\n          }} className=\"Info-btn next-btn\" onClick={handleNextClick}>\n            &gt;&gt;\n          </animated.button>\n        </animated.div>\n      </animated.div >\n      <Second hslSpring={hslSpring} rgbSpring={rgbSpring} imgOpacity={imgOpacity}\n        setImgOpacity={setImgOpacity} handleAddImages={handleAddImages}\n        handleResetImages={handleResetImages} switchTime={switchTime}\n        handleSwitchTime={handleSwitchTime} colorHistory={colorHistory}\n        changeBackground={changeBackground} enableAutoScroll={enableAutoScroll}\n        setAutoScroll={setAutoScroll}\n      />\n    </>\n  );\n}\n\n/** props.imageSrcがあるときはimgタグになり、そうでないときはnullでいるコンポーネント */\nfunction BackgroundImage(props) {\n  let Img = null;\n  if (props.imageSrc != null) {\n    Img = <img id=\"bgimage\" style={{ opacity: props.opacity }} className=\"bg-img\" alt=\"your specified\" />;\n  }\n  useEffect(() => {\n    const img = document.getElementById(\"bgimage\");\n    if (img == null) {\n      return;\n    }\n    const container = img.parentElement;\n    // イベントリスナを使用して、サイズを調整。引き伸ばして枠に合わせる。\n    const justifyImg = (e) => {\n      if (img == null || img.width === undefined) {\n        return;\n      }\n      // 以前のサイズの読み取りを防ぐ\n      img.style.width = \"\";\n      img.style.height = \"\";\n      // 画像と空間の縦横それぞれのアスペクト比が必要\n      const widthRatio = container.clientWidth / img.width;\n      const heightRatio = container.clientHeight / img.height;\n      // 片方だけ合わせる\n      if (widthRatio < heightRatio) {\n        img.style.width = `${img.width * widthRatio}px`;\n      } else {\n        img.style.height = `${img.height * heightRatio}px`;\n      }\n      // TODO: ここでタイマー開始する方が時間が保証される。\n      img.removeEventListener(\"load\", justifyImg);\n    };\n    img.addEventListener(\"load\", justifyImg);\n\n    if (props.imageSrc) {\n      img.src = props.imageSrc;\n    }\n    return () => {\n      img.removeEventListener(\"load\", justifyImg);\n    };\n  }, [props.imageSrc]);\n\n  return (\n    <>\n      {Img}\n    </>\n  );\n}\n\nfunction Second(props) {\n  const hslSpring = props.hslSpring;\n  const rgbSpring = props.rgbSpring;\n  const colorElmList = [];\n  for (let i = props.colorHistory.length; i > 0; i--) {\n    const [h, s, l] = props.colorHistory[i - 1];\n    const rgb = hslToRgb(h, s, l);\n    colorElmList.push((\n      <div className=\"color-item\" key={i - 1}\n        style={{\n          backgroundColor: `hsl(${h}, ${s}%, ${l}%)`,\n          color: `${l > 60 ? 'black' : 'white'}`\n        }}\n        onClick={(e) => props.changeBackground(e, h, s, l)}\n      >\n        <p>{`hsl (${h}, ${s} %, ${l} %)`}</p>\n        <p>{`rgb (${rgb.R}, ${rgb.G} %, ${rgb.B} %)`}</p>\n      </div >\n    ));\n  }\n  return (\n    <div className=\"Second\">\n      <h2>カラー</h2>\n      <div className=\"color-info\">\n        <animated.p>{hslSpring.hsl.to((h, s, l) => `hsl (${h.toFixed(0)}, ${s.toFixed(0)}%, ${l.toFixed(0)}%)`)}</animated.p>\n        <animated.p>{rgbSpring.rgb.to((r, g, b) => `rgb (${r.toFixed(0)}, ${g.toFixed(0)}, ${b.toFixed(0)})`)}</animated.p>\n      </div>\n      <div className=\"color-history\">\n        {colorElmList}\n      </div>\n      <h2>オプション</h2>\n      <div className=\"auto-scroll\">\n        <label htmlFor=\"auto-scroll-config\">オートスクロール</label>\n        <input type=\"checkbox\" id=\"auto-scroll-config\" checked={props.enableAutoScroll} onChange={(e) => props.setAutoScroll(p => !p)} />\n      </div>\n      <div className=\"img-opacity\">\n        <label htmlFor=\"img-opacity\" data-tooltip=\"上の画面へドラッグ&ドロップ、または下のボタンから背景画像を設定できます\">背景画像の不透明度</label>\n        <input type=\"range\" id=\"img-opacity\" onChange={e => {\n          let opcty = e.target.value;\n          if (opcty < 0) opcty = 0;\n          if (opcty > 1) opcty = 1;\n          props.setImgOpacity(opcty);\n        }}\n          min=\"0\" max=\"1\" step=\"0.01\" value={props.imgOpacity} />\n      </div>\n      <div className=\"specify-imgs\">\n        <input type=\"file\" id=\"imgs-btn\" multiple accept=\"image/*\" className=\"visually-hidden\" onChange={props.handleAddImages} />\n        <label htmlFor=\"imgs-btn\">背景画像</label>\n        <button className=\"clear-btn\" onClick={props.handleResetImages}>クリア</button>\n      </div>\n      <div className=\"img-switching\">\n        <label htmlFor=\"img-switch-time\">背景画像の切り替え時間: {props.switchTime}秒</label>\n        <input id=\"img-switch-time\" type=\"range\"\n          min=\"1\" max=\"3600\" value={props.switchTime} onChange={props.handleSwitchTime} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\ndocument.title = 'BG Only';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}