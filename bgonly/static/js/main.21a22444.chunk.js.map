{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["hslToRgb","h","s","l","r_","g_","b_","H","S","L","C","Math","abs","X","m","R","floor","G","B","randomConfig","configs","config","default","gentle","molasses","slow","stiff","wobbly","random","length","handleFiles","files","images","i","file","type","startsWith","push","doFisherYatesShuffle","a","Array","isArray","min","max","j","ceil","BackgroundImage","props","Img","imageSrc","id","style","opacity","className","alt","src","useEffect","img","document","getElementById","undefined","width","height","console","log","window","innerWidth","innerHeight","Second","hslSpring","rgbSpring","colorElmList","colorHistory","rgb","backgroundColor","color","onClick","e","changeBackground","p","hsl","to","toFixed","r","g","b","htmlFor","checked","enableAutoScroll","onChange","setAutoScroll","data-tooltip","opcty","target","value","setImgOpacity","step","imgOpacity","multiple","accept","handleAddImages","handleResetImages","switchTime","handleSwitchTime","App","appRef","useRef","useState","full","setIsFull","setImages","setImageSrc","setSwitchTime","_switchTimeRef","currentImageIdxRef","setColorHistory","timeoutIdRef","hue","sat","lig","hslStr","useSpring","background","api","fadeInOutProps","useMemo","from","next","cancel","delay","reset","infoProps","infoApi","hslProps","rgbProps","hslApi","rgbApi","useCallback","current","springs","animation","ph","ps","pl","prev","newHistory","concat","map","v","shift","newHue","newSat","newLig","newrgb","start","onFullscreenError","alert","addEventListener","onFullscreenChange","fullscreenElement","removeEventListener","updateImage","delta","setT","setTimeout","newIdx","reader","FileReader","onload","result","onerror","onabort","readAsDataURL","clearTimeout","app_elm","querySelector","preventDefaultAction","stopPropagation","preventDefault","onDrop","newImages","dataTransfer","newImagesArray","tid","handleScroll","secondRatio","scrollY","offsetHeight","scrollTo","top","left","behavior","div","ref","span","button","border","exitFullscreen","requestFullscreen","newSwitchTime","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","title","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.21a22444.chunk.js","sourcesContent":["import { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport { useSpring, animated, config } from 'react-spring';\nimport delay from \"delay\";\nimport './App.scss';\n\n\nfunction hslToRgb(h, s, l) {\n  const H = h % 360;\n  const S = s / 100;\n  const L = l / 100;\n\n  const C = (1 - Math.abs(2 * L - 1)) * S;\n  const X = C * (1 - Math.abs((H / 60) % 2 - 1));\n  const m = L - C / 2;\n  let r_, g_, b_;\n  if (0 <= H && H < 60) [r_, g_, b_] = [C, X, 0];\n  if (60 <= H && H < 120) [r_, g_, b_] = [X, C, 0];\n  if (120 <= H && H < 180) [r_, g_, b_] = [0, C, X];\n  if (180 <= H && H < 240) [r_, g_, b_] = [0, X, C];\n  if (240 <= H && H < 300) [r_, g_, b_] = [X, 0, C];\n  if (300 <= H && H < 360) [r_, g_, b_] = [C, 0, X];\n\n  return {\n    R: Math.floor((r_ + m) * 255 + 0.5),\n    G: Math.floor((g_ + m) * 255 + 0.5),\n    B: Math.floor((b_ + m) * 255 + 0.5)\n  };\n}\n\nfunction randomConfig() {\n  const configs = [config.default, config.gentle, config.molasses, config.slow, config.stiff, config.wobbly];\n  const idx = Math.floor(Math.random() * configs.length);\n  return configs[idx];\n}\n\nfunction handleFiles(files) {\n  const images = [];\n  for (let i = 0; i < files.length; i++) {\n    const file = files[i];\n    if (file.type.startsWith('image/')) {\n      images.push(file);\n    }\n  }\n  return images;\n}\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\n\n/** aを内部でシャッフルする */\nfunction doFisherYatesShuffle(a) {\n  if (a == null || !Array.isArray(a) || a.length < 2) {\n    return;\n  }\n  const n = a.length;\n  for (let i = n - 1; i > 0; i--) {\n    let j = getRandomInt(0, i + 1);\n    [a[j], a[i]] = [a[i], a[j]];\n  }\n}\n\n\nfunction App() {\n  const appRef = useRef(null);\n  const [full, setIsFull] = useState(false);\n  const [images, setImages] = useState([]);\n  const [imageSrc, setImageSrc] = useState(null);\n  const [enableAutoScroll, setAutoScroll] = useState(true);\n  const [imgOpacity, setImgOpacity] = useState(0.6);\n  const [switchTime, setSwitchTime] = useState(5);\n  const _switchTimeRef = useRef(5);\n  const currentImageIdxRef = useRef(-1);\n  const [colorHistory, setColorHistory] = useState([]);\n  const timeoutIdRef = useRef(null);\n  const hue = Math.floor(Math.random() * 360);\n  const sat = Math.floor(Math.random() * 100);\n  const lig = Math.floor(Math.random() * 100);\n  const hslStr = `hsl(${hue}, ${sat}%, ${lig}%)`;\n  const [props, api] = useSpring(() => {\n    return {\n      to: { background: hslStr },\n      config: randomConfig(),\n    };\n  });\n\n  const rgb = hslToRgb(hue, sat, lig);\n  const fadeInOutProps = useMemo(() => {\n    return {\n      from: { opacity: 0 },\n      to: async (next, cancel) => {\n        await delay(300);\n        await next({ opacity: 1 });\n        await delay(5000);\n        await next({ opacity: 0 });\n      },\n      config: config.gentle,\n      reset: true\n    };\n  }, []);\n  const [infoProps, infoApi] = useSpring(() => fadeInOutProps);\n\n  const hslProps = { hsl: [hue, sat, lig] };\n  const rgbProps = { rgb: [rgb.R, rgb.G, rgb.B] };\n  const [hslSpring, hslApi] = useSpring(() => hslProps);\n  const [rgbSpring, rgbApi] = useSpring(() => rgbProps);\n\n  const changeBackground = useCallback((e, h = -1, s = -1, l = -1) => {\n    const [ph, ps, pl] = hslApi.current[0].springs.hsl.animation.to;\n    if (ph === h && ps === s && pl === l) {\n      return;\n    }\n    setColorHistory(prev => {\n      const newHistory = prev.concat([hslApi.current[0].springs.hsl.animation.to.map(v => Math.floor(v))]);\n      if (newHistory.length > 100) {\n        newHistory.shift();\n      }\n      return newHistory;\n    });\n    const newHue = h !== -1 ? h : Math.floor(Math.random() * 360);\n    const newSat = s !== -1 ? s : Math.floor(Math.random() * 100);\n    const newLig = l !== -1 ? l : Math.floor(Math.random() * 100);\n    const newrgb = hslToRgb(newHue, newSat, newLig);\n\n    api.start({\n      to: { background: `hsl(${newHue}, ${newSat}%, ${newLig}%)` },\n      delay: 100\n    });\n    infoApi.start(fadeInOutProps);\n    hslApi.start({ hsl: [newHue, newSat, newLig], delay: 350 });\n    rgbApi.start({ rgb: [newrgb.R, newrgb.G, newrgb.B], delay: 350 });\n  }, [api, infoApi, hslApi, rgbApi, fadeInOutProps]);\n\n  useEffect(() => {\n    changeBackground(null);\n  }, [changeBackground]);\n\n  const onFullClicked = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (full) {\n      document.exitFullscreen();\n    } else {\n      appRef.current.requestFullscreen();\n    }\n  };\n  useEffect(() => {\n    const onFullscreenError = () => {\n      alert('お使いのブラウザは全画面表示に対応していないようです。');\n    };\n    document.addEventListener('fullscreenerror', onFullscreenError);\n    const onFullscreenChange = () => {\n      if (document.fullscreenElement) {\n        setIsFull(true);\n      } else {\n        setIsFull(false);\n      }\n    };\n    document.addEventListener('fullscreenchange', onFullscreenChange);\n    return () => {\n      document.removeEventListener('fullscreenerror', onFullscreenError);\n      document.removeEventListener('fullscreenchange', onFullscreenChange);\n    };\n  }, []);\n\n  // 背景関連\n  const updateImage = useCallback((delta = 1) => {\n    const setT = () => {\n      timeoutIdRef.current = setTimeout(() => {\n        updateImage();\n      }, _switchTimeRef.current * 1000);\n    };\n    if (images.length > 0) {\n      let newIdx = (currentImageIdxRef.current + delta) % images.length;\n      if (newIdx < 0) {\n        newIdx += images.length;\n      }\n      if (currentImageIdxRef.current !== newIdx) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          setImageSrc(e.target.result);\n          currentImageIdxRef.current = newIdx;\n          setT();\n        };\n        reader.onerror = (e) => {\n          // 失敗しても進めないとずっと失敗する\n          currentImageIdxRef.current = newIdx;\n          setT();\n        };\n        reader.onabort = reader.onerror;\n        reader.readAsDataURL(images[newIdx]);\n        return;\n      }\n    }\n  }, [images, setImageSrc]);\n  useEffect(() => {\n    updateImage();\n    return () => {\n      clearTimeout(timeoutIdRef.current);\n    };\n  }, [updateImage]);\n  const handlePrevClick = (e) => {\n    if (images.length > 1) {\n      e.preventDefault();\n      e.stopPropagation();\n      clearTimeout(timeoutIdRef.current);\n      updateImage(-1);\n    }\n  };\n  const handleNextClick = (e) => {\n    if (images.length > 1) {\n      e.preventDefault();\n      e.stopPropagation();\n      clearTimeout(timeoutIdRef.current);\n      updateImage(1);\n    }\n  };\n\n  // D&Dのイベントリスナ\n  useEffect(() => {\n    const app_elm = document.querySelector('.App');\n    const preventDefaultAction = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    };\n    app_elm.addEventListener('dragenter', preventDefaultAction);\n    app_elm.addEventListener('dragover', preventDefaultAction);\n    const onDrop = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      const dt = e.dataTransfer;\n      const files = dt.files;\n      const newImages = handleFiles(files);\n      clearTimeout(timeoutIdRef.current);\n      setImages(images => {\n        const newImagesArray = images.concat(newImages);\n        doFisherYatesShuffle(newImagesArray);\n        return newImagesArray;\n      });\n    };\n    app_elm.addEventListener('drop', onDrop);\n    return () => {\n      app_elm.removeEventListener('dragenter', preventDefaultAction);\n      app_elm.removeEventListener('dragover', preventDefaultAction);\n      app_elm.removeEventListener('drop', onDrop);\n    };\n  }, []);\n  // ボタンクリックによる背景の追加\n  const handleAddImages = (e) => {\n    const files = e.target.files;\n    const newImages = handleFiles(files);\n    clearTimeout(timeoutIdRef.current);\n    setImages(images => {\n      const newImagesArray = images.concat(newImages);\n      doFisherYatesShuffle(newImagesArray);\n      return newImagesArray;\n    });\n  };\n  const handleResetImages = (e) => {\n    setImages([]);\n    setImageSrc(null);\n    currentImageIdxRef.current = -1;\n    clearTimeout(timeoutIdRef.current);\n  };\n  const handleSwitchTime = (e) => {\n    let newSwitchTime = e.target.value;\n    if (newSwitchTime < 1) newSwitchTime = 1;\n    if (newSwitchTime > 3600) newSwitchTime = 3600;\n    _switchTimeRef.current = newSwitchTime;\n    setSwitchTime(newSwitchTime);\n  };\n\n  // スクロールを調整。appとセカンド画面と跨がないように修正する\n  useEffect(() => {\n    let tid = -1;\n    const handleScroll = (e) => {\n      if (tid > 0) {\n        clearTimeout(tid);\n      }\n      if (enableAutoScroll === false) {\n        return;\n      }\n      tid = setTimeout(() => {\n        if (appRef.current == null) {\n          tid = -1;\n          return;\n        }\n        const secondRatio = window.scrollY / appRef.current.offsetHeight;\n        if (secondRatio < 0.7) {\n          window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n        } else if (secondRatio > 0.75 && secondRatio < 1) {\n          window.scrollTo({ top: appRef.current.offsetHeight, left: 0, behavior: 'smooth' });\n        } else {\n          // do nothing\n        }\n        tid = -1;\n      }, 250);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      clearTimeout(tid);\n    };\n  }, [enableAutoScroll]);\n\n\n  return (\n    <>\n      <animated.div ref={appRef} className=\"App\" style={props} onClick={e => changeBackground(e)}>\n        <BackgroundImage opacity={imgOpacity} imageSrc={imageSrc} />\n        <animated.div className=\"Info\" style={infoProps}>\n          <animated.span style={{\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black')\n          }}>\n            {hslSpring.hsl.to((h, s, l) => `hsl (${h.toFixed(0)}, ${s.toFixed(0)}%, ${l.toFixed(0)}%)`)}\n          </animated.span>\n          <animated.span style={{\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black')\n          }}>\n            {rgbSpring.rgb.to((r, g, b) => `rgb (${r.toFixed(0)}, ${g.toFixed(0)}, ${b.toFixed(0)})`)}\n          </animated.span>\n          <animated.button style={{\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black'),\n            border: hslSpring.hsl.to((h, s, l) => `solid 5px ${l < 60 ? 'white' : 'black'}`)\n          }} className=\"Info-btn\" onClick={onFullClicked}>\n            {full ? 'Exit' : 'Full'}\n          </animated.button>\n          <animated.button style={{\n            opacity: images.length > 1 ? 1 : 0,\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black'),\n            border: hslSpring.hsl.to((h, s, l) => `solid 5px ${l < 60 ? 'white' : 'black'}`)\n          }} className=\"Info-btn prev-btn\" onClick={handlePrevClick}>\n            &lt;&lt;\n          </animated.button>\n          <animated.button style={{\n            opacity: images.length > 1 ? 1 : 0,\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black'),\n            border: hslSpring.hsl.to((h, s, l) => `solid 5px ${l < 60 ? 'white' : 'black'}`)\n          }} className=\"Info-btn next-btn\" onClick={handleNextClick}>\n            &gt;&gt;\n          </animated.button>\n        </animated.div>\n      </animated.div >\n      <Second hslSpring={hslSpring} rgbSpring={rgbSpring} imgOpacity={imgOpacity}\n        setImgOpacity={setImgOpacity} handleAddImages={handleAddImages}\n        handleResetImages={handleResetImages} switchTime={switchTime}\n        handleSwitchTime={handleSwitchTime} colorHistory={colorHistory}\n        changeBackground={changeBackground} enableAutoScroll={enableAutoScroll}\n        setAutoScroll={setAutoScroll}\n      />\n    </>\n  );\n}\n\n/** props.imageSrcがあるときはimgタグになり、そうでないときはnullでいるコンポーネント */\nfunction BackgroundImage(props) {\n  let Img = null;\n  if (props.imageSrc != null) {\n    Img = <img id=\"bgimage\" style={{ opacity: props.opacity }} className=\"bg-img\" alt=\"your specified\" src={props.imageSrc} />;\n  }\n  useEffect(() => {\n    const img = document.getElementById(\"bgimage\");\n    // 引き伸ばし\n    if (img == null || img.width === undefined) {\n      return;\n    }\n    img.style.width = \"\";\n    img.style.height = \"\";\n    console.log('w:', img.width, 'h:', img.height);\n    if (img.width > img.height && img.width < window.innerWidth) {\n      img.style.width = \"100vw\";\n    } else if (img.height > img.width && img.height < window.innerHeight) {\n      img.style.height = \"100vh\";\n    }\n  }, [Img]);\n\n  return (\n    <>\n      {Img}\n    </>\n  );\n}\n\nfunction Second(props) {\n  const hslSpring = props.hslSpring;\n  const rgbSpring = props.rgbSpring;\n  const colorElmList = [];\n  for (let i = props.colorHistory.length; i > 0; i--) {\n    const [h, s, l] = props.colorHistory[i - 1];\n    const rgb = hslToRgb(h, s, l);\n    colorElmList.push((\n      <div className=\"color-item\" key={i - 1}\n        style={{\n          backgroundColor: `hsl(${h}, ${s}%, ${l}%)`,\n          color: `${l > 60 ? 'black' : 'white'}`\n        }}\n        onClick={(e) => props.changeBackground(e, h, s, l)}\n      >\n        <p>{`hsl (${h}, ${s} %, ${l} %)`}</p>\n        <p>{`rgb (${rgb.R}, ${rgb.G} %, ${rgb.B} %)`}</p>\n      </div >\n    ));\n  }\n  return (\n    <div className=\"Second\">\n      <h2>カラー</h2>\n      <div className=\"color-info\">\n        <animated.p>{hslSpring.hsl.to((h, s, l) => `hsl (${h.toFixed(0)}, ${s.toFixed(0)}%, ${l.toFixed(0)}%)`)}</animated.p>\n        <animated.p>{rgbSpring.rgb.to((r, g, b) => `rgb (${r.toFixed(0)}, ${g.toFixed(0)}, ${b.toFixed(0)})`)}</animated.p>\n      </div>\n      <div className=\"color-history\">\n        {colorElmList}\n      </div>\n      <h2>オプション</h2>\n      <div className=\"auto-scroll\">\n        <label htmlFor=\"auto-scroll-config\">オートスクロール</label>\n        <input type=\"checkbox\" id=\"auto-scroll-config\" checked={props.enableAutoScroll} onChange={(e) => props.setAutoScroll(p => !p)} />\n      </div>\n      <div className=\"img-opacity\">\n        <label htmlFor=\"img-opacity\" data-tooltip=\"上の画面へドラッグ&ドロップ、または下のボタンから背景画像を設定できます\">背景画像の不透明度</label>\n        <input type=\"range\" id=\"img-opacity\" onChange={e => {\n          let opcty = e.target.value;\n          if (opcty < 0) opcty = 0;\n          if (opcty > 1) opcty = 1;\n          props.setImgOpacity(opcty);\n        }}\n          min=\"0\" max=\"1\" step=\"0.01\" value={props.imgOpacity} />\n      </div>\n      <div className=\"specify-imgs\">\n        <input type=\"file\" id=\"imgs-btn\" multiple accept=\"image/*\" className=\"visually-hidden\" onChange={props.handleAddImages} />\n        <label htmlFor=\"imgs-btn\">背景画像</label>\n        <button className=\"clear-btn\" onClick={props.handleResetImages}>クリア</button>\n      </div>\n      <div className=\"img-switching\">\n        <label htmlFor=\"img-switch-time\">背景画像の切り替え時間: {props.switchTime}秒</label>\n        <input id=\"img-switch-time\" type=\"range\"\n          min=\"1\" max=\"3600\" value={props.switchTime} onChange={props.handleSwitchTime} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\ndocument.title = 'BG Only';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}