{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["hslToRgb","h","s","l","r_","g_","b_","H","S","L","C","Math","abs","X","m","R","floor","G","B","randomConfig","configs","config","default","gentle","molasses","slow","stiff","wobbly","random","length","handleFiles","files","images","i","file","type","startsWith","push","doFisherYatesShuffle","a","Array","isArray","min","max","j","ceil","BackgroundImage","props","Img","imageSrc","style","opacity","className","alt","src","Second","hslSpring","rgbSpring","colorElmList","colorHistory","rgb","backgroundColor","color","onClick","e","changeBackground","p","hsl","to","toFixed","r","g","b","htmlFor","id","checked","enableAutoScroll","onChange","setAutoScroll","data-tooltip","opcty","target","value","setImgOpacity","step","imgOpacity","multiple","accept","handleAddImages","handleResetImages","switchTime","handleSwitchTime","App","appRef","useRef","useState","full","setIsFull","setImages","setImageSrc","setSwitchTime","_switchTimeRef","currentImageIdxRef","setColorHistory","timeoutIdRef","hue","sat","lig","hslStr","useSpring","background","api","fadeInOutProps","useMemo","from","next","cancel","delay","reset","infoProps","infoApi","hslProps","rgbProps","hslApi","rgbApi","useCallback","current","springs","animation","ph","ps","pl","prev","newHistory","concat","map","v","shift","newHue","newSat","newLig","newrgb","start","useEffect","onFullscreenError","alert","document","addEventListener","onFullscreenChange","fullscreenElement","removeEventListener","updateImage","delta","setT","setTimeout","newIdx","reader","FileReader","onload","result","onerror","onabort","readAsDataURL","clearTimeout","app_elm","querySelector","preventDefaultAction","stopPropagation","preventDefault","onDrop","newImages","dataTransfer","newImagesArray","tid","handleScroll","secondRatio","window","scrollY","offsetHeight","scrollTo","top","left","behavior","div","ref","span","button","border","exitFullscreen","requestFullscreen","newSwitchTime","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","title","ReactDOM","render","StrictMode","getElementById"],"mappings":"oRAMA,SAASA,EAASC,EAAGC,EAAGC,GACtB,IAOIC,EAAIC,EAAIC,EAPNC,EAAIN,EAAI,IACRO,EAAIN,EAAI,IACRO,EAAIN,EAAI,IAERO,GAAK,EAAIC,KAAKC,IAAI,EAAIH,EAAI,IAAMD,EAChCK,EAAIH,GAAK,EAAIC,KAAKC,IAAKL,EAAI,GAAM,EAAI,IACrCO,EAAIL,EAAIC,EAAI,EASlB,OAPI,GAAKH,GAAKA,EAAI,KAAKH,EAAeM,EAAXL,EAAcQ,EAAVP,EAAa,GACxC,IAAMC,GAAKA,EAAI,MAAMH,EAAeS,EAAXR,EAAcK,EAAVJ,EAAa,GAC1C,KAAOC,GAAKA,EAAI,MAAMH,EAAe,EAAXC,EAAcK,EAAVJ,EAAaO,GAC3C,KAAON,GAAKA,EAAI,MAAMH,EAAe,EAAXC,EAAcQ,EAAVP,EAAaI,GAC3C,KAAOH,GAAKA,EAAI,MAAMH,EAAeS,EAAXR,EAAc,EAAVC,EAAaI,GAC3C,KAAOH,GAAKA,EAAI,MAAMH,EAAeM,EAAXL,EAAc,EAAVC,EAAaO,GAExC,CACLE,EAAGJ,KAAKK,MAAiB,KAAVZ,EAAKU,GAAW,IAC/BG,EAAGN,KAAKK,MAAiB,KAAVX,EAAKS,GAAW,IAC/BI,EAAGP,KAAKK,MAAiB,KAAVV,EAAKQ,GAAW,KAInC,SAASK,IACP,IAAMC,EAAU,CAACC,SAAOC,QAASD,SAAOE,OAAQF,SAAOG,SAAUH,SAAOI,KAAMJ,SAAOK,MAAOL,SAAOM,QAEnG,OAAOP,EADKT,KAAKK,MAAML,KAAKiB,SAAWR,EAAQS,SAIjD,SAASC,EAAYC,GAEnB,IADA,IAAMC,EAAS,GACNC,EAAI,EAAGA,EAAIF,EAAMF,OAAQI,IAAK,CACrC,IAAMC,EAAOH,EAAME,GACfC,EAAKC,KAAKC,WAAW,WACvBJ,EAAOK,KAAKH,GAGhB,OAAOF,EAUT,SAASM,EAAqBC,GAC5B,GAAS,MAALA,GAAcC,MAAMC,QAAQF,MAAMA,EAAEV,OAAS,GAIjD,IADA,IAXoBa,EAAKC,EAYhBV,EADCM,EAAEV,OACK,EAAGI,EAAI,EAAGA,IAAK,CAC9B,IAAIW,GAbcF,EAaG,EAbEC,EAaCV,EAAI,EAZ9BS,EAAM/B,KAAKkC,KAAKH,GAChBC,EAAMhC,KAAKK,MAAM2B,GACVhC,KAAKK,MAAML,KAAKiB,UAAYe,EAAMD,GAAOA,IAShB,EAEf,CAACH,EAAEN,GAAIM,EAAEK,IAAvBL,EAAEK,GAF2B,KAEvBL,EAAEN,GAFqB,MAySlC,SAASa,EAAgBC,GACvB,IAAIC,EAAM,KAIV,OAHsB,MAAlBD,EAAME,WACRD,EAAM,qBAAKE,MAAO,CAAEC,QAASJ,EAAMI,SAAWC,UAAU,SAASC,IAAI,iBAAiBC,IAAKP,EAAME,YAGjG,mCACGD,IAKP,SAASO,EAAOR,GAId,IAHA,IAAMS,EAAYT,EAAMS,UAClBC,EAAYV,EAAMU,UAClBC,EAAe,GAHA,WAIZzB,GAJY,kBAKDc,EAAMY,aAAa1B,EAAI,GALtB,GAKZhC,EALY,KAKTC,EALS,KAKNC,EALM,KAMbyD,EAAM5D,EAASC,EAAGC,EAAGC,GAC3BuD,EAAarB,KACX,sBAAKe,UAAU,aACbF,MAAO,CACLW,gBAAgB,OAAD,OAAS5D,EAAT,aAAeC,EAAf,cAAsBC,EAAtB,MACf2D,MAAM,GAAD,OAAK3D,EAAI,GAAK,QAAU,UAE/B4D,QAAS,SAACC,GAAD,OAAOjB,EAAMkB,iBAAiBD,EAAG/D,EAAGC,EAAGC,IALlD,UAOE,2CAAYF,EAAZ,aAAkBC,EAAlB,eAA0BC,EAA1B,SACA,2CAAYyD,EAAI7C,EAAhB,aAAsB6C,EAAI3C,EAA1B,eAAkC2C,EAAI1C,EAAtC,WAR+Be,EAAI,KAJhCA,EAAIc,EAAMY,aAAa9B,OAAQI,EAAI,EAAGA,IAAM,EAA5CA,GAgBT,OACE,sBAAKmB,UAAU,SAAf,UACE,oDACA,sBAAKA,UAAU,aAAf,UACE,cAAC,WAASc,EAAV,UAAaV,EAAUW,IAAIC,IAAG,SAACnE,EAAGC,EAAGC,GAAP,qBAAqBF,EAAEoE,QAAQ,GAA/B,aAAsCnE,EAAEmE,QAAQ,GAAhD,cAAwDlE,EAAEkE,QAAQ,GAAlE,WAC9B,cAAC,WAASH,EAAV,UAAaT,EAAUG,IAAIQ,IAAG,SAACE,EAAGC,EAAGC,GAAP,qBAAqBF,EAAED,QAAQ,GAA/B,aAAsCE,EAAEF,QAAQ,GAAhD,aAAuDG,EAAEH,QAAQ,GAAjE,aAEhC,qBAAKjB,UAAU,gBAAf,SACGM,IAEH,gEACA,sBAAKN,UAAU,cAAf,UACE,uBAAOqB,QAAQ,qBAAf,8DACA,uBAAOtC,KAAK,WAAWuC,GAAG,qBAAqBC,QAAS5B,EAAM6B,iBAAkBC,SAAU,SAACb,GAAD,OAAOjB,EAAM+B,eAAc,SAAAZ,GAAC,OAAKA,WAE7H,sBAAKd,UAAU,cAAf,UACE,uBAAOqB,QAAQ,cAAcM,eAAa,sNAA1C,oEACA,uBAAO5C,KAAK,QAAQuC,GAAG,cAAcG,SAAU,SAAAb,GAC7C,IAAIgB,EAAQhB,EAAEiB,OAAOC,MACjBF,EAAQ,IAAGA,EAAQ,GACnBA,EAAQ,IAAGA,EAAQ,GACvBjC,EAAMoC,cAAcH,IAEpBtC,IAAI,IAAIC,IAAI,IAAIyC,KAAK,OAAOF,MAAOnC,EAAMsC,gBAE7C,sBAAKjC,UAAU,eAAf,UACE,uBAAOjB,KAAK,OAAOuC,GAAG,WAAWY,UAAQ,EAACC,OAAO,UAAUnC,UAAU,kBAAkByB,SAAU9B,EAAMyC,kBACvG,uBAAOf,QAAQ,WAAf,sCACA,wBAAQrB,UAAU,YAAYW,QAAShB,EAAM0C,kBAA7C,mCAEF,sBAAKrC,UAAU,gBAAf,UACE,wBAAOqB,QAAQ,kBAAf,iFAA+C1B,EAAM2C,WAArD,YACA,uBAAOhB,GAAG,kBAAkBvC,KAAK,QAC/BO,IAAI,IAAIC,IAAI,OAAOuC,MAAOnC,EAAM2C,WAAYb,SAAU9B,EAAM4C,yBAMvDC,MAzWf,WACE,IAAMC,EAASC,iBAAO,MADT,EAEaC,oBAAS,GAFtB,mBAENC,EAFM,KAEAC,EAFA,OAGeF,mBAAS,IAHxB,mBAGN/D,EAHM,KAGEkE,EAHF,OAImBH,mBAAS,MAJ5B,mBAIN9C,EAJM,KAIIkD,EAJJ,OAK6BJ,oBAAS,GALtC,mBAKNnB,EALM,KAKYE,EALZ,OAMuBiB,mBAAS,IANhC,mBAMNV,EANM,KAMMF,EANN,OAOuBY,mBAAS,GAPhC,mBAONL,EAPM,KAOMU,EAPN,KAQPC,EAAiBP,iBAAO,GACxBQ,EAAqBR,kBAAQ,GATtB,EAU2BC,mBAAS,IAVpC,mBAUNpC,EAVM,KAUQ4C,EAVR,KAWPC,EAAeV,iBAAO,MACtBW,EAAM9F,KAAKK,MAAsB,IAAhBL,KAAKiB,UACtB8E,EAAM/F,KAAKK,MAAsB,IAAhBL,KAAKiB,UACtB+E,EAAMhG,KAAKK,MAAsB,IAAhBL,KAAKiB,UACtBgF,EAAM,cAAUH,EAAV,aAAkBC,EAAlB,cAA2BC,EAA3B,MAfC,EAgBQE,qBAAU,WAC7B,MAAO,CACLzC,GAAI,CAAE0C,WAAYF,GAClBvF,OAAQF,QAnBC,mBAgBN4B,EAhBM,KAgBCgE,EAhBD,KAuBPnD,EAAM5D,EAASyG,EAAKC,EAAKC,GACzBK,GAAiBC,mBAAQ,WAC7B,MAAO,CACLC,KAAM,CAAE/D,QAAS,GACjBiB,GAAG,WAAD,4BAAE,WAAO+C,EAAMC,GAAb,SAAA7E,EAAA,sEACI8E,IAAM,KADV,uBAEIF,EAAK,CAAEhE,QAAS,IAFpB,uBAGIkE,IAAM,KAHV,uBAIIF,EAAK,CAAEhE,QAAS,IAJpB,2CAAF,qDAAC,GAMH9B,OAAQA,SAAOE,OACf+F,OAAO,KAER,IApCU,GAqCgBT,qBAAU,kBAAMG,MArChC,qBAqCNO,GArCM,MAqCKC,GArCL,MAuCPC,GAAW,CAAEtD,IAAK,CAACsC,EAAKC,EAAKC,IAC7Be,GAAW,CAAE9D,IAAK,CAACA,EAAI7C,EAAG6C,EAAI3C,EAAG2C,EAAI1C,IAxC9B,GAyCe2F,qBAAU,kBAAMY,MAzC/B,qBAyCNjE,GAzCM,MAyCKmE,GAzCL,SA0Ced,qBAAU,kBAAMa,MA1C/B,qBA0CNjE,GA1CM,MA0CKmE,GA1CL,MA4CP3D,GAAmB4D,uBAAY,SAAC7D,GAA+B,IAA5B/D,EAA2B,wDAAtB,EAAGC,EAAmB,wDAAd,EAAGC,EAAW,wDAAN,EAAM,cAC7CwH,GAAOG,QAAQ,GAAGC,QAAQ5D,IAAI6D,UAAU5D,GADK,GAC3D6D,EAD2D,KACvDC,EADuD,KACnDC,EADmD,KAElE,GAAIF,IAAOhI,GAAKiI,IAAOhI,GAAKiI,IAAOhI,EAAnC,CAGAoG,GAAgB,SAAA6B,GACd,IAAMC,EAAaD,EAAKE,OAAO,CAACX,GAAOG,QAAQ,GAAGC,QAAQ5D,IAAI6D,UAAU5D,GAAGmE,KAAI,SAAAC,GAAC,OAAI7H,KAAKK,MAAMwH,QAI/F,OAHIH,EAAWxG,OAAS,KACtBwG,EAAWI,QAENJ,KAET,IAAMK,GAAgB,IAAPzI,EAAWA,EAAIU,KAAKK,MAAsB,IAAhBL,KAAKiB,UACxC+G,GAAgB,IAAPzI,EAAWA,EAAIS,KAAKK,MAAsB,IAAhBL,KAAKiB,UACxCgH,GAAgB,IAAPzI,EAAWA,EAAIQ,KAAKK,MAAsB,IAAhBL,KAAKiB,UACxCiH,EAAS7I,EAAS0I,EAAQC,EAAQC,GAExC7B,EAAI+B,MAAM,CACR1E,GAAI,CAAE0C,WAAW,OAAD,OAAS4B,EAAT,aAAoBC,EAApB,cAAgCC,EAAhC,OAChBvB,MAAO,MAETG,GAAQsB,MAAM9B,IACdW,GAAOmB,MAAM,CAAE3E,IAAK,CAACuE,EAAQC,EAAQC,GAASvB,MAAO,MACrDO,GAAOkB,MAAM,CAAElF,IAAK,CAACiF,EAAO9H,EAAG8H,EAAO5H,EAAG4H,EAAO3H,GAAImG,MAAO,SAC1D,CAACN,EAAKS,GAASG,GAAQC,GAAQZ,KAElC+B,qBAAU,WACR9E,GAAiB,QAChB,CAACA,KAWJ8E,qBAAU,WACR,IAAMC,EAAoB,WACxBC,MAAM,uKAERC,SAASC,iBAAiB,kBAAmBH,GAC7C,IAAMI,EAAqB,WACrBF,SAASG,kBACXpD,GAAU,GAEVA,GAAU,IAId,OADAiD,SAASC,iBAAiB,mBAAoBC,GACvC,WACLF,SAASI,oBAAoB,kBAAmBN,GAChDE,SAASI,oBAAoB,mBAAoBF,MAElD,IAGH,IAAMG,GAAc1B,uBAAY,WAAgB,IAAf2B,EAAc,uDAAN,EACjCC,EAAO,WACXjD,EAAasB,QAAU4B,YAAW,WAChCH,OAC0B,IAAzBlD,EAAeyB,UAEpB,GAAI9F,EAAOH,OAAS,EAAG,CACrB,IAAI8H,GAAUrD,EAAmBwB,QAAU0B,GAASxH,EAAOH,OAI3D,GAHI8H,EAAS,IACXA,GAAU3H,EAAOH,QAEfyE,EAAmBwB,UAAY6B,EAAQ,CACzC,IAAMC,EAAS,IAAIC,WAanB,OAZAD,EAAOE,OAAS,SAAC9F,GACfmC,EAAYnC,EAAEiB,OAAO8E,QACrBzD,EAAmBwB,QAAU6B,EAC7BF,KAEFG,EAAOI,QAAU,SAAChG,GAEhBsC,EAAmBwB,QAAU6B,EAC7BF,KAEFG,EAAOK,QAAUL,EAAOI,aACxBJ,EAAOM,cAAclI,EAAO2H,QAI/B,CAAC3H,EAAQmE,IA8GZ,OA7GA4C,qBAAU,WAER,OADAQ,KACO,WACLY,aAAa3D,EAAasB,YAE3B,CAACyB,KAmBJR,qBAAU,WACR,IAAMqB,EAAUlB,SAASmB,cAAc,QACjCC,EAAuB,SAACtG,GAC5BA,EAAEuG,kBACFvG,EAAEwG,kBAEJJ,EAAQjB,iBAAiB,YAAamB,GACtCF,EAAQjB,iBAAiB,WAAYmB,GACrC,IAAMG,EAAS,SAACzG,GACdA,EAAEuG,kBACFvG,EAAEwG,iBACF,IAEME,EAAY5I,EAFPkC,EAAE2G,aACI5I,OAEjBmE,GAAU,SAAAlE,GACR,IAAM4I,EAAiB5I,EAAOsG,OAAOoC,GAErC,OADApI,EAAqBsI,GACdA,MAIX,OADAR,EAAQjB,iBAAiB,OAAQsB,GAC1B,WACLL,EAAQd,oBAAoB,YAAagB,GACzCF,EAAQd,oBAAoB,WAAYgB,GACxCF,EAAQd,oBAAoB,OAAQmB,MAErC,IA0BH1B,qBAAU,WACR,IAAI8B,GAAO,EACLC,EAAe,SAAC9G,GAChB6G,EAAM,GACRV,aAAaU,IAEU,IAArBjG,IAGJiG,EAAMnB,YAAW,WACf,GAAsB,MAAlB7D,EAAOiC,QAAX,CAIA,IAAMiD,EAAcC,OAAOC,QAAUpF,EAAOiC,QAAQoD,aAChDH,EAAc,GAChBC,OAAOG,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,WACpCP,EAAc,KAAQA,EAAc,GAC7CC,OAAOG,SAAS,CAAEC,IAAKvF,EAAOiC,QAAQoD,aAAcG,KAAM,EAAGC,SAAU,WAIzET,GAAO,OAXLA,GAAO,IAYR,OAGL,OADAG,OAAO7B,iBAAiB,SAAU2B,GAC3B,WACLE,OAAO1B,oBAAoB,SAAUwB,GACrCX,aAAaU,MAEd,CAACjG,IAIF,qCACE,eAAC,WAAS2G,IAAV,CAAcC,IAAK3F,EAAQzC,UAAU,MAAMF,MAAOH,EAAOgB,QAAS,SAAAC,GAAC,OAAIC,GAAiBD,IAAxF,UACE,cAAClB,EAAD,CAAiBK,QAASkC,EAAYpC,SAAUA,IAChD,eAAC,WAASsI,IAAV,CAAcnI,UAAU,OAAOF,MAAOqE,GAAtC,UACE,cAAC,WAASkE,KAAV,CAAevI,MAAO,CACpBY,MAAON,GAAUW,IAAIC,IAAG,SAACnE,EAAGC,EAAGC,GAAP,OAAaA,EAAI,GAAK,QAAU,YAD1D,SAGGqD,GAAUW,IAAIC,IAAG,SAACnE,EAAGC,EAAGC,GAAP,qBAAqBF,EAAEoE,QAAQ,GAA/B,aAAsCnE,EAAEmE,QAAQ,GAAhD,cAAwDlE,EAAEkE,QAAQ,GAAlE,WAEpB,cAAC,WAASoH,KAAV,CAAevI,MAAO,CACpBY,MAAON,GAAUW,IAAIC,IAAG,SAACnE,EAAGC,EAAGC,GAAP,OAAaA,EAAI,GAAK,QAAU,YAD1D,SAGGsD,GAAUG,IAAIQ,IAAG,SAACE,EAAGC,EAAGC,GAAP,qBAAqBF,EAAED,QAAQ,GAA/B,aAAsCE,EAAEF,QAAQ,GAAhD,aAAuDG,EAAEH,QAAQ,GAAjE,UAEpB,cAAC,WAASqH,OAAV,CAAiBxI,MAAO,CACtBY,MAAON,GAAUW,IAAIC,IAAG,SAACnE,EAAGC,EAAGC,GAAP,OAAaA,EAAI,GAAK,QAAU,WACxDwL,OAAQnI,GAAUW,IAAIC,IAAG,SAACnE,EAAGC,EAAGC,GAAP,0BAA0BA,EAAI,GAAK,QAAU,aACrEiD,UAAU,WAAWW,QAzLV,SAAAC,GACpBA,EAAEuG,kBACFvG,EAAEwG,iBACExE,EACFkD,SAAS0C,iBAET/F,EAAOiC,QAAQ+D,qBAgLX,SAIG7F,EAAO,OAAS,SAEnB,cAAC,WAAS0F,OAAV,CAAiBxI,MAAO,CACtBC,QAASnB,EAAOH,OAAS,EAAI,EAAI,EACjCiC,MAAON,GAAUW,IAAIC,IAAG,SAACnE,EAAGC,EAAGC,GAAP,OAAaA,EAAI,GAAK,QAAU,WACxDwL,OAAQnI,GAAUW,IAAIC,IAAG,SAACnE,EAAGC,EAAGC,GAAP,0BAA0BA,EAAI,GAAK,QAAU,aACrEiD,UAAU,oBAAoBW,QAhIjB,SAACC,GACnBhC,EAAOH,OAAS,IAClBmC,EAAEwG,iBACFxG,EAAEuG,kBACFJ,aAAa3D,EAAasB,SAC1ByB,IAAa,KAuHT,gBAOA,cAAC,WAASmC,OAAV,CAAiBxI,MAAO,CACtBC,QAASnB,EAAOH,OAAS,EAAI,EAAI,EACjCiC,MAAON,GAAUW,IAAIC,IAAG,SAACnE,EAAGC,EAAGC,GAAP,OAAaA,EAAI,GAAK,QAAU,WACxDwL,OAAQnI,GAAUW,IAAIC,IAAG,SAACnE,EAAGC,EAAGC,GAAP,0BAA0BA,EAAI,GAAK,QAAU,aACrEiD,UAAU,oBAAoBW,QA/HjB,SAACC,GACnBhC,EAAOH,OAAS,IAClBmC,EAAEwG,iBACFxG,EAAEuG,kBACFJ,aAAa3D,EAAasB,SAC1ByB,GAAY,KAsHR,sBASJ,cAAChG,EAAD,CAAQC,UAAWA,GAAWC,UAAWA,GAAW4B,WAAYA,EAC9DF,cAAeA,EAAeK,gBA/FZ,SAACxB,GACvB,IACM0G,EAAY5I,EADJkC,EAAEiB,OAAOlD,OAEvBmE,GAAU,SAAAlE,GACR,IAAM4I,EAAiB5I,EAAOsG,OAAOoC,GAErC,OADApI,EAAqBsI,GACdA,MA0FLnF,kBAvFoB,SAACzB,GACzBkC,EAAU,IACVC,EAAY,MACZG,EAAmBwB,SAAW,EAC9BqC,aAAa3D,EAAasB,UAmFgBpC,WAAYA,EAClDC,iBAlFmB,SAAC3B,GACxB,IAAI8H,EAAgB9H,EAAEiB,OAAOC,MACzB4G,EAAgB,IAAGA,EAAgB,GACnCA,EAAgB,OAAMA,EAAgB,MAC1CzF,EAAeyB,QAAUgE,EACzB1F,EAAc0F,IA6E0BnI,aAAcA,EAClDM,iBAAkBA,GAAkBW,iBAAkBA,EACtDE,cAAeA,QChVRiH,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDd9C,SAASsD,MAAQ,UAEjBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzD,SAAS0D,eAAe,SAM1Bb,M","file":"static/js/main.d83acfed.chunk.js","sourcesContent":["import { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport { useSpring, animated, config } from 'react-spring';\nimport delay from \"delay\";\nimport './App.scss';\n\n\nfunction hslToRgb(h, s, l) {\n  const H = h % 360;\n  const S = s / 100;\n  const L = l / 100;\n\n  const C = (1 - Math.abs(2 * L - 1)) * S;\n  const X = C * (1 - Math.abs((H / 60) % 2 - 1));\n  const m = L - C / 2;\n  let r_, g_, b_;\n  if (0 <= H && H < 60) [r_, g_, b_] = [C, X, 0];\n  if (60 <= H && H < 120) [r_, g_, b_] = [X, C, 0];\n  if (120 <= H && H < 180) [r_, g_, b_] = [0, C, X];\n  if (180 <= H && H < 240) [r_, g_, b_] = [0, X, C];\n  if (240 <= H && H < 300) [r_, g_, b_] = [X, 0, C];\n  if (300 <= H && H < 360) [r_, g_, b_] = [C, 0, X];\n\n  return {\n    R: Math.floor((r_ + m) * 255 + 0.5),\n    G: Math.floor((g_ + m) * 255 + 0.5),\n    B: Math.floor((b_ + m) * 255 + 0.5)\n  };\n}\n\nfunction randomConfig() {\n  const configs = [config.default, config.gentle, config.molasses, config.slow, config.stiff, config.wobbly];\n  const idx = Math.floor(Math.random() * configs.length);\n  return configs[idx];\n}\n\nfunction handleFiles(files) {\n  const images = [];\n  for (let i = 0; i < files.length; i++) {\n    const file = files[i];\n    if (file.type.startsWith('image/')) {\n      images.push(file);\n    }\n  }\n  return images;\n}\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\n\n/** aを内部でシャッフルする */\nfunction doFisherYatesShuffle(a) {\n  if (a == null || !Array.isArray(a) || a.length < 2) {\n    return;\n  }\n  const n = a.length;\n  for (let i = n - 1; i > 0; i--) {\n    let j = getRandomInt(0, i + 1);\n    [a[j], a[i]] = [a[i], a[j]];\n  }\n}\n\n\nfunction App() {\n  const appRef = useRef(null);\n  const [full, setIsFull] = useState(false);\n  const [images, setImages] = useState([]);\n  const [imageSrc, setImageSrc] = useState(null);\n  const [enableAutoScroll, setAutoScroll] = useState(true);\n  const [imgOpacity, setImgOpacity] = useState(0.6);\n  const [switchTime, setSwitchTime] = useState(5);\n  const _switchTimeRef = useRef(5);\n  const currentImageIdxRef = useRef(-1);\n  const [colorHistory, setColorHistory] = useState([]);\n  const timeoutIdRef = useRef(null);\n  const hue = Math.floor(Math.random() * 360);\n  const sat = Math.floor(Math.random() * 100);\n  const lig = Math.floor(Math.random() * 100);\n  const hslStr = `hsl(${hue}, ${sat}%, ${lig}%)`;\n  const [props, api] = useSpring(() => {\n    return {\n      to: { background: hslStr },\n      config: randomConfig(),\n    };\n  });\n\n  const rgb = hslToRgb(hue, sat, lig);\n  const fadeInOutProps = useMemo(() => {\n    return {\n      from: { opacity: 0 },\n      to: async (next, cancel) => {\n        await delay(300);\n        await next({ opacity: 1 });\n        await delay(5000);\n        await next({ opacity: 0 });\n      },\n      config: config.gentle,\n      reset: true\n    };\n  }, []);\n  const [infoProps, infoApi] = useSpring(() => fadeInOutProps);\n\n  const hslProps = { hsl: [hue, sat, lig] };\n  const rgbProps = { rgb: [rgb.R, rgb.G, rgb.B] };\n  const [hslSpring, hslApi] = useSpring(() => hslProps);\n  const [rgbSpring, rgbApi] = useSpring(() => rgbProps);\n\n  const changeBackground = useCallback((e, h = -1, s = -1, l = -1) => {\n    const [ph, ps, pl] = hslApi.current[0].springs.hsl.animation.to;\n    if (ph === h && ps === s && pl === l) {\n      return;\n    }\n    setColorHistory(prev => {\n      const newHistory = prev.concat([hslApi.current[0].springs.hsl.animation.to.map(v => Math.floor(v))]);\n      if (newHistory.length > 100) {\n        newHistory.shift();\n      }\n      return newHistory;\n    });\n    const newHue = h !== -1 ? h : Math.floor(Math.random() * 360);\n    const newSat = s !== -1 ? s : Math.floor(Math.random() * 100);\n    const newLig = l !== -1 ? l : Math.floor(Math.random() * 100);\n    const newrgb = hslToRgb(newHue, newSat, newLig);\n\n    api.start({\n      to: { background: `hsl(${newHue}, ${newSat}%, ${newLig}%)` },\n      delay: 100\n    });\n    infoApi.start(fadeInOutProps);\n    hslApi.start({ hsl: [newHue, newSat, newLig], delay: 350 });\n    rgbApi.start({ rgb: [newrgb.R, newrgb.G, newrgb.B], delay: 350 });\n  }, [api, infoApi, hslApi, rgbApi, fadeInOutProps]);\n\n  useEffect(() => {\n    changeBackground(null);\n  }, [changeBackground]);\n\n  const onFullClicked = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (full) {\n      document.exitFullscreen();\n    } else {\n      appRef.current.requestFullscreen();\n    }\n  };\n  useEffect(() => {\n    const onFullscreenError = () => {\n      alert('お使いのブラウザは全画面表示に対応していないようです。');\n    };\n    document.addEventListener('fullscreenerror', onFullscreenError);\n    const onFullscreenChange = () => {\n      if (document.fullscreenElement) {\n        setIsFull(true);\n      } else {\n        setIsFull(false);\n      }\n    };\n    document.addEventListener('fullscreenchange', onFullscreenChange);\n    return () => {\n      document.removeEventListener('fullscreenerror', onFullscreenError);\n      document.removeEventListener('fullscreenchange', onFullscreenChange);\n    };\n  }, []);\n\n  // 背景関連\n  const updateImage = useCallback((delta = 1) => {\n    const setT = () => {\n      timeoutIdRef.current = setTimeout(() => {\n        updateImage();\n      }, _switchTimeRef.current * 1000);\n    };\n    if (images.length > 0) {\n      let newIdx = (currentImageIdxRef.current + delta) % images.length;\n      if (newIdx < 0) {\n        newIdx += images.length;\n      }\n      if (currentImageIdxRef.current !== newIdx) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          setImageSrc(e.target.result);\n          currentImageIdxRef.current = newIdx;\n          setT();\n        };\n        reader.onerror = (e) => {\n          // 失敗しても進めないとずっと失敗する\n          currentImageIdxRef.current = newIdx;\n          setT();\n        };\n        reader.onabort = reader.onerror;\n        reader.readAsDataURL(images[newIdx]);\n        return;\n      }\n    }\n  }, [images, setImageSrc]);\n  useEffect(() => {\n    updateImage();\n    return () => {\n      clearTimeout(timeoutIdRef.current);\n    };\n  }, [updateImage]);\n  const handlePrevClick = (e) => {\n    if (images.length > 1) {\n      e.preventDefault();\n      e.stopPropagation();\n      clearTimeout(timeoutIdRef.current);\n      updateImage(-1);\n    }\n  };\n  const handleNextClick = (e) => {\n    if (images.length > 1) {\n      e.preventDefault();\n      e.stopPropagation();\n      clearTimeout(timeoutIdRef.current);\n      updateImage(1);\n    }\n  };\n\n  // D&Dのイベントリスナ\n  useEffect(() => {\n    const app_elm = document.querySelector('.App');\n    const preventDefaultAction = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    };\n    app_elm.addEventListener('dragenter', preventDefaultAction);\n    app_elm.addEventListener('dragover', preventDefaultAction);\n    const onDrop = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      const dt = e.dataTransfer;\n      const files = dt.files;\n      const newImages = handleFiles(files);\n      setImages(images => {\n        const newImagesArray = images.concat(newImages);\n        doFisherYatesShuffle(newImagesArray);\n        return newImagesArray;\n      });\n    };\n    app_elm.addEventListener('drop', onDrop);\n    return () => {\n      app_elm.removeEventListener('dragenter', preventDefaultAction);\n      app_elm.removeEventListener('dragover', preventDefaultAction);\n      app_elm.removeEventListener('drop', onDrop);\n    };\n  }, []);\n  // ボタンクリックによる背景の追加\n  const handleAddImages = (e) => {\n    const files = e.target.files;\n    const newImages = handleFiles(files);\n    setImages(images => {\n      const newImagesArray = images.concat(newImages);\n      doFisherYatesShuffle(newImagesArray);\n      return newImagesArray;\n    });\n  };\n  const handleResetImages = (e) => {\n    setImages([]);\n    setImageSrc(null);\n    currentImageIdxRef.current = -1;\n    clearTimeout(timeoutIdRef.current);\n  };\n  const handleSwitchTime = (e) => {\n    let newSwitchTime = e.target.value;\n    if (newSwitchTime < 1) newSwitchTime = 1;\n    if (newSwitchTime > 3600) newSwitchTime = 3600;\n    _switchTimeRef.current = newSwitchTime;\n    setSwitchTime(newSwitchTime);\n  };\n\n  // スクロールを調整。appとセカンド画面と跨がないように修正する\n  useEffect(() => {\n    let tid = -1;\n    const handleScroll = (e) => {\n      if (tid > 0) {\n        clearTimeout(tid);\n      }\n      if (enableAutoScroll === false) {\n        return;\n      }\n      tid = setTimeout(() => {\n        if (appRef.current == null) {\n          tid = -1;\n          return;\n        }\n        const secondRatio = window.scrollY / appRef.current.offsetHeight;\n        if (secondRatio < 0.7) {\n          window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n        } else if (secondRatio > 0.75 && secondRatio < 1) {\n          window.scrollTo({ top: appRef.current.offsetHeight, left: 0, behavior: 'smooth' });\n        } else {\n          // do nothing\n        }\n        tid = -1;\n      }, 250);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      clearTimeout(tid);\n    };\n  }, [enableAutoScroll]);\n\n\n  return (\n    <>\n      <animated.div ref={appRef} className=\"App\" style={props} onClick={e => changeBackground(e)}>\n        <BackgroundImage opacity={imgOpacity} imageSrc={imageSrc} />\n        <animated.div className=\"Info\" style={infoProps}>\n          <animated.span style={{\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black')\n          }}>\n            {hslSpring.hsl.to((h, s, l) => `hsl (${h.toFixed(0)}, ${s.toFixed(0)}%, ${l.toFixed(0)}%)`)}\n          </animated.span>\n          <animated.span style={{\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black')\n          }}>\n            {rgbSpring.rgb.to((r, g, b) => `rgb (${r.toFixed(0)}, ${g.toFixed(0)}, ${b.toFixed(0)})`)}\n          </animated.span>\n          <animated.button style={{\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black'),\n            border: hslSpring.hsl.to((h, s, l) => `solid 5px ${l < 60 ? 'white' : 'black'}`)\n          }} className=\"Info-btn\" onClick={onFullClicked}>\n            {full ? 'Exit' : 'Full'}\n          </animated.button>\n          <animated.button style={{\n            opacity: images.length > 1 ? 1 : 0,\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black'),\n            border: hslSpring.hsl.to((h, s, l) => `solid 5px ${l < 60 ? 'white' : 'black'}`)\n          }} className=\"Info-btn prev-btn\" onClick={handlePrevClick}>\n            &lt;&lt;\n          </animated.button>\n          <animated.button style={{\n            opacity: images.length > 1 ? 1 : 0,\n            color: hslSpring.hsl.to((h, s, l) => l < 60 ? 'white' : 'black'),\n            border: hslSpring.hsl.to((h, s, l) => `solid 5px ${l < 60 ? 'white' : 'black'}`)\n          }} className=\"Info-btn next-btn\" onClick={handleNextClick}>\n            &gt;&gt;\n          </animated.button>\n        </animated.div>\n      </animated.div >\n      <Second hslSpring={hslSpring} rgbSpring={rgbSpring} imgOpacity={imgOpacity}\n        setImgOpacity={setImgOpacity} handleAddImages={handleAddImages}\n        handleResetImages={handleResetImages} switchTime={switchTime}\n        handleSwitchTime={handleSwitchTime} colorHistory={colorHistory}\n        changeBackground={changeBackground} enableAutoScroll={enableAutoScroll}\n        setAutoScroll={setAutoScroll}\n      />\n    </>\n  );\n}\n\n/** props.imageSrcがあるときはimgタグになり、そうでないときはnullでいるコンポーネント */\nfunction BackgroundImage(props) {\n  let Img = null;\n  if (props.imageSrc != null) {\n    Img = <img style={{ opacity: props.opacity }} className=\"bg-img\" alt=\"your specified\" src={props.imageSrc} />;\n  }\n  return (\n    <>\n      {Img}\n    </>\n  );\n}\n\nfunction Second(props) {\n  const hslSpring = props.hslSpring;\n  const rgbSpring = props.rgbSpring;\n  const colorElmList = [];\n  for (let i = props.colorHistory.length; i > 0; i--) {\n    const [h, s, l] = props.colorHistory[i - 1];\n    const rgb = hslToRgb(h, s, l);\n    colorElmList.push((\n      <div className=\"color-item\" key={i - 1}\n        style={{\n          backgroundColor: `hsl(${h}, ${s}%, ${l}%)`,\n          color: `${l > 60 ? 'black' : 'white'}`\n        }}\n        onClick={(e) => props.changeBackground(e, h, s, l)}\n      >\n        <p>{`hsl (${h}, ${s} %, ${l} %)`}</p>\n        <p>{`rgb (${rgb.R}, ${rgb.G} %, ${rgb.B} %)`}</p>\n      </div >\n    ));\n  }\n  return (\n    <div className=\"Second\">\n      <h2>カラー</h2>\n      <div className=\"color-info\">\n        <animated.p>{hslSpring.hsl.to((h, s, l) => `hsl (${h.toFixed(0)}, ${s.toFixed(0)}%, ${l.toFixed(0)}%)`)}</animated.p>\n        <animated.p>{rgbSpring.rgb.to((r, g, b) => `rgb (${r.toFixed(0)}, ${g.toFixed(0)}, ${b.toFixed(0)})`)}</animated.p>\n      </div>\n      <div className=\"color-history\">\n        {colorElmList}\n      </div>\n      <h2>オプション</h2>\n      <div className=\"auto-scroll\">\n        <label htmlFor=\"auto-scroll-config\">オートスクロール</label>\n        <input type=\"checkbox\" id=\"auto-scroll-config\" checked={props.enableAutoScroll} onChange={(e) => props.setAutoScroll(p => !p)} />\n      </div>\n      <div className=\"img-opacity\">\n        <label htmlFor=\"img-opacity\" data-tooltip=\"上の画面へドラッグ&ドロップ、または下のボタンから背景画像を設定できます\">背景画像の不透明度</label>\n        <input type=\"range\" id=\"img-opacity\" onChange={e => {\n          let opcty = e.target.value;\n          if (opcty < 0) opcty = 0;\n          if (opcty > 1) opcty = 1;\n          props.setImgOpacity(opcty);\n        }}\n          min=\"0\" max=\"1\" step=\"0.01\" value={props.imgOpacity} />\n      </div>\n      <div className=\"specify-imgs\">\n        <input type=\"file\" id=\"imgs-btn\" multiple accept=\"image/*\" className=\"visually-hidden\" onChange={props.handleAddImages} />\n        <label htmlFor=\"imgs-btn\">背景画像</label>\n        <button className=\"clear-btn\" onClick={props.handleResetImages}>クリア</button>\n      </div>\n      <div className=\"img-switching\">\n        <label htmlFor=\"img-switch-time\">背景画像の切り替え時間: {props.switchTime}秒</label>\n        <input id=\"img-switch-time\" type=\"range\"\n          min=\"1\" max=\"3600\" value={props.switchTime} onChange={props.handleSwitchTime} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\ndocument.title = 'BG Only';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}