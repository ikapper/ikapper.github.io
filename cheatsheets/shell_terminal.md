---
layout: default
title: shellというかterminal.appの操作チートシート
---

いつも1行まるごと消去しようとして、`⌘+A`して`delete`とかしようとしてしまうのでメモ。
ついでに使いそうなキーバインドもメモしておく。

## 記号

一応記号についても書いておく。

| 記号  | 説明   |
|-----:|:----   |
| `^`  |`Ctrl` |
| `⎇` |`Alt`  |
| `⇧`  |`Shift` |
| `⌘`  |`Cmd`  |
{: .table .table-striped}


## 入力操作

カーソル操作や過去のコマンドの検索など。

| キー          | 説明        |
|-------------:|:------------|
| `^L`         | 画面をクリア |
| （上キー）`^P` | 1つ前のコマンドを表示 |
| （下キー）`^N` | 1つ後ろのコマンドを表示 |
| `^R`         | 実行済みコマンドから検索。文字入力で絞り込み |
| `^A`         | 行頭へカーソル移動 |
| `^E`         | 行末へカーソル移動 |
| `^U`         | 行頭からカーソル位置まで入力を消去 |
| `^K`         | カーソル位置から行末まで入力を消去 |
| `^W`         | カーソル位置から手前の半角スペースの直前まで入力を消去 |
| `^Y`         | 消去した入力を貼り付け。 |
| （左キー）`^B` | カーソル位置を左（1つ手前）へ移動 |
| （右キー）`^F` | カーソル位置を右（1つ後ろ）へ移動 |
{: .table .table-striped}

## ジョブ操作

意外と思い出せなかったりする。バックグラウンドとフォアグラウンドを行き来させられる。
これはキーではなく、コマンド。（キーもあるけど。）

ここでは、フォアグラウンドまたはバックグラウンドで実行中のプログラムなどをジョブと呼んだりしている。

ジョブ番号(`job_no`)の扱いについては別表にて。

| コマンド/キー            | 説明          |
|-----------------------:|:--------------|
| `jobs`                 | 実行中ジョブの一覧を表示。ジョブ番号横の`+`/`-`はカレントジョブ/1つ前のジョブを示す |
| `^Z`                   | 実行中のフォアグラウンドジョブを一時停止して、シェル操作の受付に移る |
| `bg %<job_no>`         | 一時停止中のジョブをバックグラウンドで再開。複数ジョブの指定も可能 |
| `fg %<job_no>`         | 未完了のジョブをフォアグラウンドで再開する。|
| `<command> &`          | `<command>`をバックグラウンドで実行 |
| `kill %<job_no>`       | 実行中のバックグラウンドジョブを終了。`%`は省略不可 |
| `kill -STOP %<job_no>` | 実行中のバックグラウンドジョブを停止。`%`は省略不可 |
{: .table .table-striped}

ジョブ番号の指定方法は次の通り。

| 記法         | 説明     |
|------------:|:------- |
| `%<job_no>` | `jobs`などで確認可能なジョブ番号のジョブを指定。`%`は`bg`や`fg`では省略可能 |
| `%%` / `%+` | カレントジョブを指定 |
| `%-`        | 1つ前のジョブを指定 |
| `%<string>` | 文字列`string`から始まるジョブを指定。存在しないまたは複数あるとエラーを表示 |
{: .table .table-straped}